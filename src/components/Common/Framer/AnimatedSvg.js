import React, { useRef } from "react";
import { motion, useInView } from 'framer-motion';

import './AnimatedSvg.css'

export default function AnimatedSvg({ color = "#abb8c3", left, right }) {
    const ref = useRef(null);
    const isInView = useInView(ref, { once: false });

    const variants = {
        left: {
            initial: {
                x: '10%',
                y: '0%',
                scale: '1'
            },
            animate: {
                x: '-15%',
                y: '10%',
                scale: '1.3'
            },
            viewBox: "350 -25 760 480",
            svgPaths: "M353 0L341.8 10C330.7 20 308.3 40 308.3 60C308.3 80 330.7 100 332 120C333.3 140 313.7 160 297.2 180C280.7 200 267.3 220 258.5 240C249.7 260 245.3 280 268.8 300C292.3 320 343.7 340 352.5 360C361.3 380 327.7 400 326.5 420C325.3 440 356.7 460 361 480C365.3 500 342.7 520 337.3 540C332 560 344 580 350 590L356 600L0 600L0 590C0 580 0 560 0 540C0 520 0 500 0 480C0 460 0 440 0 420C0 400 0 380 0 360C0 340 0 320 0 300C0 280 0 260 0 240C0 220 0 200 0 180C0 160 0 140 0 120C0 100 0 80 0 60C0 40 0 20 0 10L0 0Z"
        },
        right: {
            initial: {
                x: '-15%',
                y: '15%',
                scale: '1'
            },
            animate: {
                x: '10%',
                y: '10%',
                scale: '1.2'
            },
            viewBox: "0 0 870 430",
            svgPaths: "M549 600L560.2 590C571.3 580 593.7 560 593.7 540C593.7 520 571.3 500 570 480C568.7 460 588.3 440 604.8 420C621.3 400 634.7 380 643.5 360C652.3 340 656.7 320 633.2 300C609.7 280 558.3 260 549.5 240C540.7 220 574.3 200 575.5 180C576.7 160 545.3 140 541 120C536.7 100 559.3 80 564.7 60C570 40 558 20 552 10L546 0L900 0L900 10C900 20 900 40 900 60C900 80 900 100 900 120C900 140 900 160 900 180C900 200 900 220 900 240C900 260 900 280 900 300C900 320 900 340 900 360C900 380 900 400 900 420C900 440 900 460 900 480C900 500 900 520 900 540C900 560 900 580 900 590L900 600Z"
        }
    }

    return (
        <motion.svg
            ref={ref}
            viewBox={(left && variants.left.viewBox) || (right && variants.right.viewBox)}
            xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="none"
            className={`position-absolute w-100 h-100 animated-svg`}
            initial={{ opacity: 1, x: (left && variants.left.initial.x) || (right && variants.right.initial.x), y: (left && variants.left.initial.y) || (right && variants.right.initial.y), scale: (left && variants.left.initial.scale) || (right && variants.right.initial.scale) }}
            animate={
                isInView
                    ? {
                        opacity: 1,
                        x: (left && variants.left.animate.x) || (right && variants.right.animate.x),
                        y: (left && variants.left.animate.y) || (right && variants.right.animate.y),
                        scale: (left && variants.left.animate.scale) || (right && variants.right.animate.scale),
                        transition: {
                            duration: 2,
                            ease: 'easeInOut',
                        }
                    }
                    : {}
            }
            aria-hidden="true"
            role="presentation"
        >
            {/* Path 1 */}
            {/* < motion.path
                d="M 0,600 L 0,930 C 77.18041237113403,321.3311855670103 154.36082474226805,312.66237113402065 210,327 C 265.63917525773195,341.33762886597935 299.7371134020618,378.6817010309278 350,370 C 400.2628865979382,361.3182989690722 466.69072164948454,306.61082474226805 533,288 C 599.3092783505155,269.38917525773195 665.5,286.875 728,297 C 790.5,307.125 849.3092783505155,309.88917525773195 912,320 C 974.6907216494845,330.11082474226805 1041.2628865979382,347.56829896907215 1101,352 C 1160.7371134020618,356.43170103092785 1213.639175257732,347.8376288659794 1269,342 C 1324.360824742268,336.1623711340206 1382.180412371134,333.08118556701027 1440,330 L 1440,600 L 0,600 Z"
                fill={color}
                fillOpacity="0.265"
                initial={{ pathLength: 0 }}
                animate={
                    isInView
                        ? {
                            pathLength: 1,
                            transition: {
                                duration: 2,
                                ease: 'easeInOut',
                                delay: 0.2,
                            }
                        }
                        : {}
                }
            /> */}

            {/* Path 2 */}
            <motion.path
                d="M 0,600 L 0,210 C 45.42746686303387,202.2743004418262 90.85493372606774,194.54860088365243 161,199 C 231.14506627393226,203.45139911634757 326.0077319587629,220.0798969072165 388,216 C 449.9922680412371,211.9201030927835 479.1141384388808,187.1318114874816 537,194 C 594.8858615611192,200.8681885125184 681.5357142857144,239.39285714285714 747,242 C 812.4642857142856,244.60714285714286 856.743004418262,211.29675994108985 899,214 C 941.256995581738,216.70324005891015 981.4922680412371,255.4201030927835 1048,249 C 1114.5077319587629,242.5798969072165 1207.2879234167895,191.02282768777613 1277,177 C 1346.7120765832105,162.97717231222387 1393.3560382916053,186.48858615611192 1440,210 L 1440,600 L 0,600 Z"
                fill={color}
                fillOpacity="0.4"
                initial={{ pathLength: 0 }}
                animate={
                    isInView
                        ? {
                            pathLength: 1,
                            transition: {
                                duration: 2,
                                ease: 'easeInOut',
                                delay: 0.4,
                            }
                        }
                        : {}
                }
            />

            {/* Path 3 */}
            <motion.path
                d="M 0,600 L 0,330 C 77.18041237113403,321.3311855670103 154.36082474226805,312.66237113402065 210,327 C 265.63917525773195,341.33762886597935 299.7371134020618,378.6817010309278 350,370 C 400.2628865979382,361.3182989690722 466.69072164948454,306.61082474226805 533,288 C 599.3092783505155,269.38917525773195 665.5,286.875 728,297 C 790.5,307.125 849.3092783505155,309.88917525773195 912,320 C 974.6907216494845,330.11082474226805 1041.2628865979382,347.56829896907215 1101,352 C 1160.7371134020618,356.43170103092785 1213.639175257732,347.8376288659794 1269,342 C 1324.360824742268,336.1623711340206 1382.180412371134,333.08118556701027 1440,330 L 1440,600 L 0,600 Z"
                fill={color}
                fillOpacity="0.53"
                initial={{ pathLength: 0 }}
                animate={
                    isInView
                        ? {
                            pathLength: 1,
                            transition: {
                                duration: 2,
                                ease: 'easeInOut',
                                delay: 0.6,
                            }
                        }
                        : {}
                }
            />

            {/* Path 4 */}
            <motion.path
                d="M 0,600 L 0,450 C 60.5230117820324,466.2118924889544 121.0460235640648,482.4237849779087 183,480 C 244.9539764359352,477.5762150220913 308.3389175257732,456.51675257731955 364,437 C 419.6610824742268,417.48324742268045 467.5983063328424,399.50920471281296 533,405 C 598.4016936671576,410.49079528718704 681.2678571428572,439.4464285714286 740,459 C 798.7321428571428,478.5535714285714 833.3302650957289,488.7050810014727 892,481 C 950.6697349042711,473.2949189985273 1033.411082474227,447.73324742268045 1105,430 C 1176.588917525773,412.26675257731955 1237.0254050073638,402.3619293078056 1291,407 C 1344.9745949926362,411.6380706921944 1392.4872974963182,430.81903534609717 1440,450 L 1440,600 L 0,600 Z"
                fill={color}
                fillOpacity="1"
                initial={{ pathLength: 0 }}
                animate={
                    isInView
                        ? {
                            pathLength: 1,
                            transition: {
                                duration: 2,
                                ease: 'easeInOut',
                                delay: 0.8,
                            }
                        }
                        : {}
                }
            />
        </motion.svg >
    );

}
